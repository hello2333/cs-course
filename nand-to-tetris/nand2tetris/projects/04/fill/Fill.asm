@row
M=0
@col
M=0
@256
D=A
@max_row
M=D
@32
D=A
@max_col
M=D
(LISTEN_KEY)
@color
M=0
@KBD
D=M
@KEY_DOWN
D;JGT
@KEY_UP
0;JMP
(KEY_DOWN)
@color
M=-1
@UPDATE_SCREEN
0;JMP
(KEY_UP)
@color
M=0
@UPDATE_SCREEN
0;JMP
(UPDATE_SCREEN)
@row
D=M
@R0
M=D
@max_col
D=M
@R1
M=D
@product
M=0
(PRODUCT_LOOP)
@R1
D=M
@PRODUCT_END
D;JLE
@R0
D=M
@product
M=M+D
@R1
M=M-1
@PRODUCT_LOOP
0;JMP
(PRODUCT_END)
@SCREEN
D=A
@index
M=0
M=M+D
@product
D=M
@index
M=M+D
@col
D=M
@index
M=M+D
@color
D=M
@index
A=M
M=D
@col
M=M+1
D=M
@R0
M=D
@max_col
D=M
@R0
M=M-D
D=M
@ITERATE_COL
D;JGE
@LISTEN_KEY
0;JMP
(ITERATE_COL)
@col
M=0
@row
M=M+1
D=M
@R1
M=D
@max_row
D=M
@R1
M=M-D
D=M
@ITERATE_ROW
D;JGE
@LISTEN_KEY
0;JMP
(ITERATE_ROW)
@row
M=0
@LISTEN_KEY
0;JMP